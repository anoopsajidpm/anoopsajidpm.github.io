(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(e,a,t){},161:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(10),s=t.n(r),c=(t(65),t(26)),o=t(27),i=t(30),u=t(28),h=t(19),m=t(29),d=(t(66),t(67),t(58)),p=t.n(d),g=t(59),b=t.n(g),v=t(36),f=t.n(v),E=t(54),k=t.n(E),y=t(56),S=t.n(y),N=t(57),w=t.n(N),C=t(53),j=(t(68),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).componentWillUnmount=function(){console.log("asdf")},t.onClickNavigate=function(e){var a=t.props.details.numberInSurah,n=t.props.details.number,l=t.props.details.numberOfAyahs;switch(e.target.value){case"Next":a<l?a++:n<114?(n++,a=1):console.log("You are on the last Ayah of the last Surah"),console.log(n+":"+a);break;case"Prev":a>1?a--:n>1?n--:console.log("You are on the first Ayah of the first Surah"),console.log(n+":"+a);break;default:console.log("asd")}},t.state={},t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props.results,a=this.props.details;return l.a.createElement("div",{className:"listview-wrapper"},l.a.createElement("button",{hidden:!0,onClick:this.onClickNavigate,value:"Prev"},"prev"),l.a.createElement("section",{className:"titles-wrapper"},l.a.createElement("p",null,"In Qur'an: ",l.a.createElement("span",null,a.ayahNumber),l.a.createElement("br",null),"In Surah: ",l.a.createElement("span",null,a.number,":",a.numberInSurah)),l.a.createElement(function(){return l.a.createElement(C.a,{trigger:l.a.createElement("button",{value:"More Info"},"More Info"),on:"click",position:"left center",closeOnDocumentClick:!0},l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement("h2",null,a.name),l.a.createElement("p",null,a.englishName," | ",a.englishNameTranslation),l.a.createElement("p",null,"Surah: ",a.number," | Ayah: ",a.numberInSurah))))},null)),l.a.createElement("button",{hidden:!0,onClick:this.onClickNavigate,value:"Next"},"next"),l.a.createElement(k.a,{component:"ul",disablePadding:!1,dense:!1},e.map(function(e,t){return l.a.createElement(S.a,{key:t,className:"no-padding"},l.a.createElement(w.a,{className:"verse-text"},"translation"===e.edition.type&&l.a.createElement("span",{className:"ayah-details"},e.edition.englishName),l.a.createElement("p",{className:"ar"===e.edition.language?"txt-arabic":""},e.text),"ar"===e.edition.language&&l.a.createElement("center",null,l.a.createElement("audio",{controls:"controls"},l.a.createElement("source",{src:a.audio,type:"audio/wav"}),"Your browser does not support the ",l.a.createElement("code",null,"audio")," element."))))})))}}]),a}(l.a.Component));t(156);var O=function(){return l.a.createElement("div",{className:"loader-wrapper"},l.a.createElement("p",null,"Loading..."))},D=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).onClick=function(e){var a=t.state.inputVal;t.setState({preloader:!0}),fetch("https://api.alquran.cloud/v1/ayah/"+a+"/editions/quran-simple-enhanced,en.asad,en.pickthall,ml.abdulhameed,ar.alafasy").then(function(e){return e.json()}).then(function(e){t.setState({searchError:"",rawData:e,searchBlockClass:"search-wrapper shrink"}),console.log(e),t.processData(e),t.setState({preloader:!1})}).catch(t.setState({preloader:!1,searchError:"err"}))},t.updateInputVal=function(e){t.setState({inputVal:e.target.value})},t.changeSurah=function(e){console.log(e.target.value);var a,n=Array(2);(n=t.state.inputVal.split(":")).length>1?n[0]=e.target.value:(n[0]=e.target.value,n.push("1")),t.setState({inputVal:n[0]+":"+n[1]}),a=t.state.surahList.filter(function(a){return a.number==e.target.value}),t.setState({selectedSurah:a[0]}),t.ayahInput.focus()},t.chkSelectChange=function(e){var a=e.target,n=Boolean(t.state.chkTrans.english),l=Boolean(t.state.chkTrans.malayalam);switch(console.log(e.target.value),a.value){case"english":n=!n,t.setState({chkTrans:{english:n,malayalam:l}},function(){console.log(t.state.chkTrans.elglish),a.className=n?"toggle-btn selected":"toggle-btn",t.state.rawData.status&&"OK"===t.state.rawData.status&&t.processData(t.state.rawData)});break;case"malayalam":l=!l,t.setState({chkTrans:{english:n,malayalam:l}},function(){console.log(t.state.chkTrans.malayalam),a.className=l?"toggle-btn selected":"toggle-btn",t.state.rawData.status&&"OK"===t.state.rawData.status&&t.processData(t.state.rawData)})}},t.state={mainResult:[],inputVal:"",ayahDetails:{},rawData:{},surahList:[],searchError:"",searchBlockClass:"search-wrapper",selectedSurah:{},preloader:!0,chkTrans:{english:!1,malayalam:!1}},t.handleLoad=t.handleLoad.bind(Object(h.a)(t)),t.chkSelectChange=t.chkSelectChange.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("load",this.handleLoad)}},{key:"handleLoad",value:function(){var e=this;this.setState({preloader:!0}),fetch("https://api.alquran.cloud/v1/surah").then(function(e){return e.json()}).then(function(a){var t;t=a.data.map(function(e){return e}),e.setState({surahList:t,preloader:!1})}).catch(this.setState({preloader:!1,searchError:this.getErrMessage("list")}))}},{key:"getErrMessage",value:function(e){this.state.inputVal;var a=this.state.inputVal.split(":"),t=this.state.selectedSurah;return"list"===e?"Surah list data error":a.length>1?Number(a[0])>114||Number(a[0])<1?"Invalid Surah reference":t&&(Number(a[1])<1||Number(a[1])>Number(t.numberOfAyahs))?"Invalid Ayah number. Enter Ayah 1 through "+t.numberOfAyahs:"":Number(a[0])<1||Number(a[0])>60232?"Invalid Ayah number. Enter any from 1 to 60232":""}},{key:"processData",value:function(e){var a=this,t=[],n="",l=null;return this.setState({ayahDetails:{},mainResult:[]}),console.log(this.state.chkTrans.english),console.log(this.state.chkTrans.malayalam),e.data.map(function(e){var r=null,s=!0;if(e.audio)""===n&&(n=e.audio);else{switch(r={edition:e.edition,text:e.text},e.edition.language){case"en":s=a.state.chkTrans.english;break;case"ml":s=a.state.chkTrans.malayalam;break;default:s=!0}s&&t.push(r),s=!0}return l||(l=e.surah,l=Object.assign(l,{hizbQuarter:e.hizbQuarter,juz:e.juz,manzil:e.manzil,ayahNumber:e.number,numberInSurah:e.numberInSurah,page:e.page,ruku:e.ruku,sajda:e.sajda})),!0}),n&&(l=Object.assign(l,{audio:n})),this.setState({ayahDetails:l,mainResult:t}),!0}},{key:"render",value:function(){var e,a=this;this.state.mainResult.length&&(e=l.a.createElement(j,{results:this.state.mainResult,details:this.state.ayahDetails}));var t=this.state.surahList;this.state.selectedSurah;return l.a.createElement("div",{className:"page-wrapper"},l.a.createElement("header",null,l.a.createElement(p.a,{position:"static",color:"default"},l.a.createElement(b.a,null,l.a.createElement(f.a,{variant:"h1",size:"small",color:"inherit"},"Q-Search")))),l.a.createElement("div",{className:"content-wrapper"},l.a.createElement("section",{className:this.state.searchBlockClass,id:"search-block"},l.a.createElement("div",{className:"row-flex ayah-input-wrapper"},l.a.createElement("div",{className:"col-flex"},l.a.createElement("label",{htmlFor:"surah-list"},"Select Surah:"),l.a.createElement("select",{id:"surah-list",onChange:function(e){return a.changeSurah(e)},className:"surah-select"},l.a.createElement("option",{value:"0"},"Select Surah"),t.map(function(e){return l.a.createElement("option",{value:e.number,key:e.number}," ",e.number," - ",e.englishName," ")})),this.state.selectedSurah.englishName&&l.a.createElement("label",{ref:function(e){a.surahLabel=e},className:"surah-name"},this.state.selectedSurah.englishName)),l.a.createElement("div",{className:"col-flex"},l.a.createElement("label",{htmlFor:"ayah-input"},"Enter Ayah No:"),l.a.createElement("input",{type:"text",value:this.state.inputVal,onChange:function(e){return a.updateInputVal(e)},placeholder:"Enter ayah to search",ref:function(e){a.ayahInput=e},className:"input-ayah"})),l.a.createElement("button",{onClick:this.onClick,value:"Search",className:"search-btn"},"Search")),l.a.createElement("div",{className:"trans-wrapper"},l.a.createElement("label",null,"Translations: "),l.a.createElement("button",{className:"toggle-btn",value:"english",onClick:this.chkSelectChange},"Eng"),l.a.createElement("button",{className:"toggle-btn",value:"malayalam",onClick:this.chkSelectChange},"Mal"))),e),this.state.preloader&&l.a.createElement(O,null))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,a,t){e.exports=t(161)},65:function(e,a,t){},66:function(e,a,t){},68:function(e,a,t){}},[[60,1,2]]]);
//# sourceMappingURL=main.8977d5bd.chunk.js.map